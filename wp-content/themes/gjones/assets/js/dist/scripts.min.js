!function($){$("#add-posting").on("submit",function(e){e.preventDefault();var $this=$(this),formVals={posting_title:$this.find("input[name=posting_title]").val(),number_of_positions:$this.find("input[name=number_of_positions]").val(),description:$this.find("textarea[name=description]").val(),compensation:$this.find("input[name=compensation]").val(),requirements:$this.find("textarea[name=requirements]").val(),selected_courses:$this.find("input[name=selected_courses]").val()};$.ajax({type:"POST",url:myAjax.ajaxurl,data:{action:"create_posting",value:formVals},dataType:"json",encode:!0,beforeSend:function(){},success:function(response){}})})}(jQuery),function($){function removeCourseFromList(courseList,course){for(var i in courseList)if(courseList[i]==course){courseList.splice(i,1);break}return courseList}function fixhtml(html){var div=document.createElement("div");return div.innerHTML=html,div.innerHTML}function copyToClipboard(element){var $temp=$("<input>");$("body").append($temp),$temp.val($(element).text()).select(),document.execCommand("copy"),$temp.remove()}$("#select-all").on("click",function(){$("#search-courses input:checkbox").prop("checked",$(this).prop("checked"))});var options={shouldSort:!0,includeScore:!0,threshold:.3,location:0,distance:60,maxPatternLength:32,keys:["title","description"]};if($("body").hasClass("page-template-template-add-posting")){var fuse=new Fuse(jsonData,options);$("#search-courses").find("input[name=search-courses]").on("keyup",function(e){var displayResults=$("#search-results"),keyword=$(this).val();$("#search-courses input:checked:checked").map(function(){return $(this).val()}).get();setTimeout(function(){var result=fuse.search(keyword);displayResults.html(""),result&&result.length<100&&$.each(result,function(){var des=this.item.description;des=fixhtml(des.substring(0,300)+"...");var o="";o+='<div class="course provider_'+this.item.provider+'" id="'+this.item.id+'">',o+='<div class="course__item">',o+='<h2 class="ct">'+this.item.title+"</h2>",o+='<p class="cd">'+des+"</p>",this.item.url&&(o+='<a target="_blank" class="btn" href="'+this.item.url+'">View Course</a>'),this.item.video&&(o+='<a target="_blank" class="btn btn--secondary" href="'+this.item.video+'">Watch Video</a>'),o+="</div>",o+="</div>",displayResults.addClass("updated"),displayResults.prepend(o)})},100)});var courseList=[];$("#search-results").on("click",".course",function(){var courseIDs=[];$this=$(this),courseTitle=$this.find(".ct").html(),courseID=$this.attr("id"),$this.hasClass("course__added")?($this.removeClass("course__added"),courseList=removeCourseFromList(courseList,'<li class="course-list__item" id="c_'+courseID+'">'+courseTitle+"</li>"),$(".course-list").html(courseList)):($this.addClass("course__added"),-1==courseList.indexOf(courseTitle)&&courseList.push('<li class="course-list__item" id="c_'+courseID+'">'+courseTitle+"</li>"),$(".course-list").html(courseList)),$(".course-list .course-list__item").each(function(){courseIDs.push($(this).attr("id"))}),$("input[name=selected_courses]").val(courseIDs)}),$("#clear-list").on("click",function(){$(this);$(".course-list").html(""),courseIDs=[],courseList=[],$("input[name=selected_courses]").val(""),$(".course").each(function(){$(this).removeClass("course__added")})})}$(".fa-file-text-o").on("click",function(){var $this=$(this);copyToClipboard($this.next(".course__item-data")),$this.append('<span class="copied">copied</span>'),setTimeout(function(){$(".copied").fadeOut()},500)})}(jQuery);