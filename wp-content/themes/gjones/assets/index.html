<!doctype html>
<html>
  <head>
    <title>Socket.IO chat</title>
    <style>
      * { margin: 0; padding: 0; box-sizing: border-box; }
      body { font: 13px Helvetica, Arial; }
      /*
      form { background: #000; padding: 3px; position: fixed; bottom: 0; width: 100%; }
      form input { border: 0; padding: 10px; width: 90%; margin-right: .5%; }
      form button { width: 9%; background: rgb(130, 224, 255); border: none; padding: 10px; }
      #messages { list-style-type: none; margin: 0; padding: 0; }
      #messages li { padding: 5px 10px; }
      #messages li:nth-child(odd) { background: #eee; }
        */
      </style>
  </head>
  <body>
    <div id="playground">
        <div class="mouse"></div>
    </div>


    

   <!-- <script src="/socket.io/socket.io.js"></script> -->
    
    <script>
/*
        window.onload = function () {
            // connect to server *note the port number
            var socket = io.connect('http://localhost:3002/node');
            
            // send mouse position updates of current user
            document.onmousemove = function (ev) {
                socket.emit("mouse movement", { pos: { x: ev.clientX, y: ev.clientY } });
            }
            
            // Draw mouse of other players immediatley after socket connection has been established
            socket.on('mouse setup', function (mouses) {
                for (var mouse_id in mouses) {
                    virtualMouse.move(mouse_id, mouses.mouse_id);
                }
            });
            
            // update mouse position
            socket.on('mouse update', function (mouse) {
                virtualMouse.move(mouse.id, mouse.pos);
            });
            
            // remove disconnected mouse
            socket.on('mouse disconnect', function (mouse) {
                virtualMouse.remove(mouse.id);
            });
            
        }
        
        // virtual mouse module
        var virtualMouse = {
            // moves a cursor with corresponding id to position pos
            // if cursor with that id doesn't exist we create one in position pos
            move: function (id, pos) {
            var cursor = document.getElementById('cursor-' + id);
            if (!cursor) {
                cursor = document.createElement('img');
                cursor.className = 'virtualMouse';
                cursor.id = 'cursor-' + id;
                cursor.src = 'cursor.png';
                cursor.style.position = 'absolute';
                document.body.appendChild(cursor);
            }
            cursor.style.left = pos.x + 'px';
            cursor.style.top = pos.y + 'px';
            },
            // remove cursor with corresponding id
            remove: function (id) {
                var cursor = document.getElementById('cursor-' + id);
                cursor.parentNode.removeChild(cursor);
            }
        }
  */
    </script>

    <style>
        html, body
            {
                margin: 0;
                padding: 0;
            }
 
        #playground{
            position: absolute;
            height: 100%;
            width: 100%;
            background: grey;
        }
    
        .virtualMouse{
            height: 30px;
            width: 30px;
            background: red;
        }
    </style>

  </body>
</html>